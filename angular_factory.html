<!DOCTYPE html>
<html lang='en' ng-app='myApp'>
<head>
	<meta charset="utf-8">
	<title>Directives</title>
	<script src='https://ajax.googleapis.com/ajax/libs/angularjs/1.3.5/angular.min.js'></script>
	<script>
		//In Angular, controllers are not responsible for obtaining data; they are only expected to pass data to the views by managing the $scope object.
		var myAppModule = angular.module('myApp', []);

		myAppModule.factory('playerFactory', function(){
			var players =  [
				{player: 'Josh Donaldson', position: '3rd base'}, 
				{player: 'Yoenis Cespedes', position: 'LF'},
				{player: 'Josh Reddick', position: 'RF'}, 
				{player: 'Sonny Gray', position: 'Pitcher'}
				];
			var factory = {};
			factory.getPlayers = function(callback){
				callback(players);}
			return factory;
		});

		myAppModule.controller('playersController', ['$scope', 'playerFactory', function($scope, playerFactory) {
			$scope.players = [];
			playerFactory.getPlayers(function(data){
				$scope.players = data;
			})	
		}])
	</script>
</head>
<body>
	<div ng-controller='playersController' id='divController'>
	<!-- Let's go ahead and submit a form that enables a function -->
		You could filter the players below by typing letters in this box:
		<input type="text" placeholder='type something' ng-model="myModel">
		<!-- When we type in our input, the $scope.myModel object is created in our controller (two way binding), even though we didn't declare it in our intial model description -->
		<div id='model' ng-if='myModel'>
			<span>{{myModel}}</span>
		</div>
		<hr>
		<!-- ng-bind just shows in the html what's in the model -->
		<p ng-bind="myModel"></p>
		<!-- ng-repeat just shows what's in a list when you call it -->
		<!-- ng-repeat filter filters by what you type in the myModel input box -->
		<ul>
			<li ng-repeat='player in players | filter:myModel'>{{player.player}}, {{player.position}}
			</li>
		</ul>
		<!-- ng-click makes something happen when you click it -->
		Click the text:<br>
		<p ng-click='count = count + 1' ng-init='count = 0'>Click me</p>
		<p>The text has been clicked {{count}} times.  Sick, right?</p>
	</div>
		<!-- ng-if removes the HTML element if a condition is false. -->
		<!-- ng-show & ng-hide shows or hides HTML elements -->
		Show: <input type="checkbox" ng-model="myVar" ng-init="myVar = false">
		<div ng-if='myVar'>
			<h1>BOO!</h1>
		</div>
</body>
</html>